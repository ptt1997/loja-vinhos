<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Lojinha de Vinhos</title>
  <style>
    body { font-family: Arial, sans-serif; background: #f5f5f5; margin: 0; padding: 20px; }
    h1 { text-align: center; }
    .produtos { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; }
    .produto { background: white; padding: 15px; border-radius: 10px; box-shadow: 0 2px 6px rgba(0,0,0,0.1); text-align: center; }
    .produto img { width: 100%; height: 200px; object-fit: cover; border-radius: 8px; }
    .produto h3 { margin: 10px 0 5px; }
    .produto p { margin: 5px 0; }
    .botao { margin-top: 10px; padding: 10px 15px; background: #8B0000; color: white; border: none; border-radius: 5px; cursor: pointer; }
    .botao:hover { background: #a30000; }
    .finalizar { display: block; margin: 30px auto; padding: 15px 30px; background: green; color: white; border: none; border-radius: 10px; font-size: 16px; cursor: pointer; }
  </style>
</head>
<body>
  <h1>üç∑ Lojinha de Vinhos</h1>
  <div class="produtos" id="produtos"></div>
  <button class="finalizar" onclick="enviarCarrinho()">‚úâÔ∏è Enviar Pedido via WhatsApp</button>

  <script>
    const url = "https://script.googleusercontent.com/macros/echo?user_content_key=AehSKLiWZu-jpb9Cu1v0fimD4TAzS-LPdNqGYTaY7Q5gQ95Gk_UVRU0s3fCb5BjseDNusVj0nGZoUTy7ejp-RvTB8prPRLIO-hD71oUE2kiDeSeOoUHCJmKWI9flKqtQvpCzHEcQWnSm--FexvVtielgt5Sxop-M7LUY1-ko-Kl1rfzpFMC-S9C2WBQXDJ8U0bPI88A88PR_LHeuXaS4DWPnO-pUqpG5YUKie3vVr9id7M4pYpEm1-Es02txq_CLFQ7Lq_n3xE6R8WTz9UevO0ywK3ZS37nzUA&lib=MnQYBkRsDbv4uLRxNoSIgA-aoJlzzZ8rm";
    const numeroWhatsApp = "5546920001218";

    let carrinho = [];

    fetch(url)
      .then(res => res.json())
      .then(data => {
        const container = document.getElementById("produtos");
        data.forEach((produto, index) => {
          const card = document.createElement("div");
          card.className = "produto";
          card.innerHTML = `
            <img src="${produto["Link Imagem"]}" alt="${produto["Nome do Vinho"]}">
            <h3>${produto["Nome do Vinho"]}</h3>
            <p>${produto["Descri√ß√£o"]}</p>
            <p><strong>R$ ${produto["Pre√ßo"].toFixed(2)}</strong></p>
            <button class="botao" onclick='adicionarCarrinho(${JSON.stringify(produto)})'>Adicionar ao carrinho</button>
          `;
          container.appendChild(card);
        });
      });

    function adicionarCarrinho(produto) {
      carrinho.push(produto);
      alert(`${produto["Nome do Vinho"]} adicionado ao carrinho!`);
    }

    function enviarCarrinho() {
      if (carrinho.length === 0) {
        alert("Seu carrinho est√° vazio!");
        return;
      }
      let mensagem = "Ol√°! Gostaria de comprar:\n";
      let total = 0;
      carrinho.forEach(p => {
        mensagem += `- ${p["Nome do Vinho"]} (R$ ${p["Pre√ßo"].toFixed(2)})\n`;
        total += parseFloat(p["Pre√ßo"]);
      });
      mensagem += `\nTotal: R$ ${total.toFixed(2)}`;
      const urlWhats = `https://wa.me/5546920001218?text=${encodeURIComponent(mensagem)}`;
      window.open(urlWhats, '_blank');
    }
  </script>
</body>
</html>
